<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title> Admin Dashboard </title>
    <link rel="stylesheet" href="./vendor/owl-carousel/css/owl.carousel.min.css">
    <link rel="stylesheet" href="./vendor/owl-carousel/css/owl.theme.default.min.css">
    <link href="./vendor/jqvmap/css/jqvmap.min.css" rel="stylesheet">
    <link href="./css/style.css" rel="stylesheet">


    <link rel="icon" type="image/icon" href="../../../church1/assest/images/favicon.png">
    <link rel="stylesheet" href="../../../church1/assest/styles/styles.css" />
    <script src="https://kit.fontawesome.com/8ebf6fd839.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css"/> -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="../../../church1/assest/scripts/auth.js"></script> 
    <script src="../../../church1/assest/webAppUrls/weburls.js"></script> 



</head>

<body>
    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="sk-three-bounce">
            <div class="sk-child sk-bounce1"></div>
            <div class="sk-child sk-bounce2"></div>
            <div class="sk-child sk-bounce3"></div>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->

    <nav>
        <input type="checkbox" id="check" />
        <label for="check" class="checkbtn">
          <i class="fas fa-bars"></i>
        </label>
        <a href="../../../church1/landing-page.html" class="logo3">Ash.North Treasury Dept.
        <img class="sda_logo" src="../../../church1/assest/images/sda_logo.png" alt="logo"></a>
        <ul>
            <li><a id="dashboard"  class="active" href="./index.html"> <i class="fa-solid fa-chart-line"></i> Dashboard</a></li>
          <li class="dropdown">
            <div id="admin-section" style="display: none;">
                <a> <i class="fa-solid fa-bars"></i> Menu</a>
                <div class="dropdown-content">
                  <a href="../../../church1/income-book.html">Income-Book</a>
                  <a href="../../../church1/full-view.html">Full View</a>

                  <a id="expensesRecords" href="#"> <i class="fa-solid fa-square-caret-down"></i> Expenditure-Book</a>
                  <div id="expensesSubmenu" class="dropdown-content" style="display: none;">
                    <a href="../../../church1/local-expenditure-book.html">Local Expenditure</a>
                    <a href="../../../church1/district-expenditure-book.html">District Expenditure</a>
                    <a href="../../../church1/conference-expenditure-book.html">Conference Expenditure</a>
                  </div>
                  <!-- <a href="../../../church1/expenditure-book.html">Expenditure-Book</a> -->
                  <a href="../../../church1/cutoff.html">Cut-Off Sheet</a>
                  <a href="../../../church1/denominations.html">Denominations</a>
                </div>
              </div>
          </li>
          <li class="dropdown">
            <a> <i class="fa-solid fa-folder-minus"></i> Saved Records</a>
            <div class="dropdown-content">
              <a href="../../../church1/income-records.html">Income-Records</a>
              <a href="../../../church1/local-expenditure-records.html">Local-Expenditure-Records</a>
              <a href="../../../church1/local-income-records.html">Local-Income-Records</a>
              <a href="../../../church1/conference-records.html">Conference-Records</a>
              <a href="../../../church1/district-records.html">District-Records</a>
            </div>
          </li>
          <li><a id="log-out"> <i class="fa-solid fa-right-from-bracket"></i> Log Out</a></li>
        </ul>
      </nav>
      

    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">

        <!--**********************************
            Nav header start
        ***********************************-->
        <div class="nav-header">       
            <div class="nav-control">
                <div class="hamburger">
                    <span class="line"></span><span class="line"></span><span class="line"></span>
                </div>
            </div>
        </div>
        <!--**********************************
            Nav header end
        ***********************************-->

        <!--**********************************
            Header start
        ***********************************-->
        <div class="header">
            <div class="header-content">
                <nav class="navbar navbar-expand">
                    <div class="collapse navbar-collapse justify-content-between">
                        
                    </div>
                </nav>
            </div>
        </div>
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
        <div class="quixnav">
            <div class="quixnav-scroll">
                <ul class="metismenu" id="menu">
                    <li class="nav-label first">Main Menu</li>
                    <li><a class="has-arrow" href="javascript:void()" aria-expanded="false"><i
                                class="icon icon-chart-bar-33"></i><span class="nav-text">Dashboard</span></a>
                        <ul aria-expanded="false">
                            <li><a href="./index.html">Dashboard 1</a></li>
                            <!-- <li><a href="./chart-chartjs.html">Dashboard 2</a></li> -->
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <!--**********************************
            Sidebar end
        ***********************************-->

        <!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">
            <!-- row -->
            <div class="container-fluid">               
                <div class="row">
                    <div class="col-lg-3 col-sm-6">
                        <div class="card">
                            <div class="stat-widget-two card-body">
                                <div class="stat-content">
                                    <div class="stat-text" id="totalIncomeYear">Total Income for {year} </div>
                                    <!-- Spinner  -->
                                    <div id="spinner1" class="spinner2" style="display: none;">
                                        <i class="fa fa-spinner fa-spin"></i> Loading...
                                    </div>
                                        <div class="stat-digit" id="grandIncome">    </div>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-success w-100" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="card">
                            <div class="stat-widget-two card-body">
                                <div class="stat-content">
                                    <div class="stat-text" id="totalExpenYear">  Total Expenditure for {year} </div>
                                    <!-- Spinner  -->
                                    <div id="spinner2" class="spinner2" style="display: none;">
                                        <i class="fa fa-spinner fa-spin"></i> Loading...
                                    </div>

                                        <div class="stat-digit" id="grandExpenditure">  </div>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-danger w-100" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="card">
                            <div class="stat-widget-two card-body">
                                <div class="stat-content">
                                    <div class="stat-text" id="localIncomeYear">Local Income for {year}</div>
                                     <!-- Spinner  -->
                                     <div id="spinner3" class="spinner2" style="display: none;">
                                        <i class="fa fa-spinner fa-spin"></i> Loading...
                                    </div>
                                        <div class="stat-digit" id="localIncome">     </div>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-primary w-100" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="card">
                            <div class="stat-widget-two card-body">
                                <div class="stat-content">
                                    <div class="stat-text" id="localExpenYear">Local Expenditure for {year}</div>
                                     <!-- Spinner  -->
                                     <div id="spinner4" class="spinner2" style="display: none;">
                                        <i class="fa fa-spinner fa-spin"></i> Loading...
                                     </div>
                                         <div class="stat-digit" id="localExpenditure">    </div>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-danger w-100" role="progressbar" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                        </div>
                        <!-- /# card -->
                    </div>
                    <!-- /# column -->
                </div>
                <div class="row">
                    <div class="col-xl-8 col-lg-8 col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title" id="incomeExpenditureYear">Income and Expenditure for {year} <span></span></h4>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-xl-12 col-lg-8">
                                         <!-- Spinner  -->
                                     <div id="spinner5" class="spinner2" style="display: none;">
                                        <i class="fa fa-spinner fa-spin"></i> Loading...
                                    </div>
                                        <div id="morris-bar-chart" style="display: block;">  </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>  
                    <div class="col-xl-4 col-lg-4 col-md-4">
                        <div class="card">
                            <div class="card-body text-center">
                                <div class="m-t-10">
                                    <i class="fa-solid  fa-beat" style="--fa-animation-duration: 2s;" >
                                        <h4 class="card-title" id="currentBalanceYear" style="font-family: Arial, Helvetica, sans-serif;" >Current Bal as at {year}</h4>
                                         <!-- Spinner  -->
                                     <div id="spinner6" class="spinner2" style="display: none;">
                                        <i class="fa fa-spinner fa-spin"></i> Loading...
                                    </div>
                                        <h2 class="mt-3" id="currentBalance" style="font-family: Arial, Helvetica, sans-serif;" >      </h2>
                                    </i>
                                </div>
                            </div>
                        </div>      
                        <div class="card"  id="outstandingBalanceCard">
                            <div class="card-body text-center">
                                <div class="m-t-10">
                                        <h4 class="card-title" id="outstandingBalanceYear" style="color: white;">Outstanding Balance from Previous Years</h4>
                                         <!-- Spinner  -->
                                     <div id="spinner7" class="spinner2" style="display: none;">
                                        <i class="fa fa-spinner fa-spin"></i> Loading...
                                    </div>
                                        <h2 class="mt-3" id="outstandingBalance" style="color: white;">     </h2> 
                                </div>
                            </div>
                        </div> 
                    </div>
                </div>
            </div>
        </div>
        <!--**********************************
            Content body end
        ***********************************-->

    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!-- the next page is hidden  -->
    <!-- <div class="button-container">
        <button id="customButton" class="btn custom-btn">Next Page</button>
    </div> -->

    <br><br>

    <footer class="footer">
        <p>&copy; 2025 Phlashly Inc©. All rights reserved.</p>
        <p>Contact us: <a href="mailto:franklinboachie@gmail.com">franklinboachie@gmail.com</a> | Phone: +233-540-896194</p>
    </footer>

    <!--**********************************
        Scripts
    ***********************************-->
    
 <script>
  //Get the current year and update the HTML element 
 document.addEventListener("DOMContentLoaded", () => {
  // Get the current year
  const currentYear = new Date().getFullYear();

  // Update the innerText of the elements of the cards
  const totalIncomeYearElement = document.getElementById("totalIncomeYear");
  const totalExpenYearElement = document.getElementById("totalExpenYear");
  const localIcomeYearElement = document.getElementById("localIncomeYear");
  const localExpenYearElement = document.getElementById("localExpenYear");
  const incomeExpenditureYearElement = document.getElementById("incomeExpenditureYear");
  const currentBalanceYearElement = document.getElementById("currentBalanceYear");
  
  if (totalIncomeYearElement) {
      totalIncomeYearElement.innerText = `Total Income for ${currentYear}`;
  }
  if (totalExpenYearElement) {
      totalExpenYearElement.innerText = `Total Expenditure for ${currentYear}`;
  }
  if (localIcomeYearElement) {
      localIcomeYearElement.innerText = `Local Income for ${currentYear}`;
  }
  if (localExpenYearElement) {
      localExpenYearElement.innerText = `Local Expenditure for ${currentYear}`;
  }
  if (incomeExpenditureYearElement) {
      incomeExpenditureYearElement.innerText = `Local Income and Expenditure Chart for the year ${currentYear}`;
    }
  if (currentBalanceYearElement) {
      currentBalanceYearElement.innerText = `Current Balance for ${currentYear}`;
  }
});

  // Function to fetch data from Google Apps Script Web App and update the HTML elements
  document.addEventListener("DOMContentLoaded", () => {
  // const IncomeWebAppUrl = 'https://script.google.com/macros/s/AKfycbz6aKEzFGa8ztzvunW_9gYJj3AMsHZkHwyslb8aQzwWKU9_D08q04E85VrB8-0nemuWdQ/exec';
  // const ExpenditureWebAppUrl = 'https://script.google.com/macros/s/AKfycby9-laPphroGrCkAsLCIUhM9ZHXhzfB5AB_bW5013Kxi33_epoj47Zd2qKzZM3pxOxryQ/exec';
  // const ConferenceWebAppUrl = 'https://script.google.com/macros/s/AKfycbyuWNfL4LByPRBo9pGUk_27DHAF-xiX8yR0ubIcbpa_yqQdTdICNvUo2iqlvTml1rXg/exec';
  // const DistrictWebAppUrl = 'https://script.google.com/macros/s/AKfycbz7UCFcas-OBahG81Gutd1SkzmFncvLgX30m_y43ZAE7uzpwjBANbq_4SZAiU_aWO3R5A/exec';
  // //const LocalIncomeWebAppUrl = 'https://script.google.com/macros/s/AKfycbxfRWuHaQ-lEvopSxkHOTXmeeWYAZ4TCx9NvUi3loXYmMjTfxq-D9VMIZY-KFOxDVNUGQ/exec';
  // const LocalIncomeWebAppUrl = 'https://script.google.com/macros/s/AKfycbwJtMQTFn6sIT2z06yDEBzo39NLYURzkeECRKy6rep9WaTKZOWSCS7Y38bxCa63TBZDnw/exec';

  // Show all spinners
  const spinnerTotalIncome = document.getElementById('spinner1');
  const spinnerTotalExpenditure = document.getElementById('spinner2');
  const spinnerLocalIncome = document.getElementById('spinner3');
  const spinnerLocalExpenditure = document.getElementById('spinner4');
//   const spinnerIncomeExpenditure = document.getElementById('spinner5'); //Check external script for this spinner
  const spinnerCurrentBalance = document.getElementById('spinner6');
  const spinnerOutstandingBalance = document.getElementById('spinner7');

  if (spinnerTotalIncome) spinnerTotalIncome.style.display = 'block';
  if (spinnerTotalExpenditure) spinnerTotalExpenditure.style.display = 'block';
  if (spinnerLocalIncome) spinnerLocalIncome.style.display = 'block';
  if (spinnerLocalExpenditure) spinnerLocalExpenditure.style.display = 'block';
//   if (spinnerIncomeExpenditure) spinnerIncomeExpenditure.style.display = 'block'; //Check external script for this spinner
  if (spinnerCurrentBalance) spinnerCurrentBalance.style.display = 'block';
  if (spinnerOutstandingBalance) spinnerOutstandingBalance.style.display = 'block';

  // Fetch Income, Expenditure, Conference, District, Local Income data concurrently from the webApp URLs
  Promise.all([
    fetch(IncomeWebAppUrl).then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok for Income');
      }
      return response.json();
    }),
    fetch(ExpenditureWebAppUrl).then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok for Expenditure');
      }
      return response.json();
    }),
    fetch(ConferenceWebAppUrl).then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok for Conference');
      }
      return response.json();
    }),
    fetch(DistrictWebAppUrl).then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok for District');
      }
      return response.json();
    }),
    fetch(LocalIncomeWebAppUrl).then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok for Local');
      }
      return response.json();
    })


  ])
  
    .then(([incomeData, expenditureData, conferenceData, districtData, localData]) => {
      // Process All Income Data (Grand Total Income for current year)
      let incomeGrandTotal = null;
      for (const record of incomeData) {
        if (record.GRANDCURRENTYEAR && !isNaN(record.GRANDCURRENTYEAR)) {
          incomeGrandTotal = parseFloat(record.GRANDCURRENTYEAR);
          break;
        }
      }
      const incomeElement = document.getElementById('grandIncome');
      if (incomeElement) {
        if (incomeGrandTotal !== null) {
          incomeElement.innerHTML = `GH₵${incomeGrandTotal.toFixed(2)}`;
        } else {
          incomeElement.innerHTML = "Data not available";
        }
      }

      // Process Local Expenditure Data for current year
      let expenditureGrandTotal = null;
      for (const record of expenditureData) {
        if (record.GRANDCURRENTYEAR && !isNaN(record.GRANDCURRENTYEAR)) {
          expenditureGrandTotal = parseFloat(record.GRANDCURRENTYEAR);
          break;
        }
      }
      const expenditureElement = document.getElementById('localExpenditure');
      if (expenditureElement) {
        if (expenditureGrandTotal !== null) {
          expenditureElement.innerHTML = `GH₵${expenditureGrandTotal.toFixed(2)}`;
        } else {
          expenditureElement.innerHTML = "Data not available";
        }
      }

       // Process Conference Data for current year
       let conferenceGrandTotal = null;
        for (const record of conferenceData) {
            if (record.GRANDCURRENTYEAR && !isNaN(record.GRANDCURRENTYEAR)) {
            conferenceGrandTotal = parseFloat(record.GRANDCURRENTYEAR);
            break;
            }
            else {
            conferenceGrandTotal = 0; // Set to 0 if no valid data found
            }
        }

     // Process District Data for current year
      let districtGrandTotal = null;
        for (const record of districtData) {
            if (record.GRANDCURRENTYEAR && !isNaN(record.GRANDCURRENTYEAR)) {
            districtGrandTotal = parseFloat(record.GRANDCURRENTYEAR);
            break;
            }
            else {
            districtGrandTotal = 0; // Set to 0 if no valid data found
            }
        }
    
    // To process Grand Total Expenditure for current year, its going to be sum(Local Expenditure + Conference + District)
    const totalExpenditure = (expenditureGrandTotal || 0) + (conferenceGrandTotal || 0) + (districtGrandTotal || 0);
    const totalExpenditureElement = document.getElementById('grandExpenditure');
    if (totalExpenditureElement) {
        if (totalExpenditure !== null) {
          totalExpenditureElement.innerHTML = `GH₵${totalExpenditure.toFixed(2)}`;
        } else {
          totalExpenditureElement.innerHTML = "Data not available";
        }
      }

    // Process Local Income Data for current year
    let localIncomeGrandTotal = null;
    for (const record of localData) {
        if (record.GRANDCURRENTYEAR && !isNaN(record.GRANDCURRENTYEAR)) {
          localIncomeGrandTotal = parseFloat(record.GRANDCURRENTYEAR);
          break;
        }
      }
    const localIncomeElement = document.getElementById('localIncome');
    if (localIncomeElement) {
      if (localIncomeGrandTotal !== null) {
        localIncomeElement.innerHTML = `GH₵${localIncomeGrandTotal.toFixed(2)}`;
      } else {
        localIncomeElement.innerHTML = "Data not available";
      }
    }

    // Process CURRENT BALANCE for current year, its going to be (Grand Total Income - Grand Total Expenditure)
    const currentBalance = incomeGrandTotal - totalExpenditure;
    const currentBalanceElement = document.getElementById('currentBalance');
    if (currentBalanceElement) {
      if (currentBalance !== null) {
        currentBalanceElement.innerHTML = `GH₵${currentBalance.toFixed(2)}`;
      } else {
        currentBalanceElement.innerHTML = "Data not available";
      }
    }

    // Process the OUTSTANDING BALANCE from the past years. Thus (Past Years Grand Total Income - Past Years Grand Total Expenditure)
    // Process Past Years Income Total Data
    let pastIncomeGrandTotal = null;
    for (const record of incomeData) {
        if (record.GRANDPREVIOUSYEARS && !isNaN(record.GRANDPREVIOUSYEARS)) {
            pastIncomeGrandTotal = parseFloat(record.GRANDPREVIOUSYEARS);
          break;
        }
      }

    // Process Past Years Expenditure Total Data
      let pastExpenditureGrandTotal = null;
      for (const record of expenditureData) {
        if (record.GRANDPREVIOUSYEARS && !isNaN(record.GRANDPREVIOUSYEARS)) {
            pastExpenditureGrandTotal = parseFloat(record.GRANDPREVIOUSYEARS);
          break;
        }
      }

    // Process Past Conference Income Total Data
      let pastConferenceGrandTotal = null;
        for (const record of conferenceData) {
            if (record.GRANDPREVIOUSYEARS && !isNaN(record.GRANDPREVIOUSYEARS)) {
                pastConferenceGrandTotal = parseFloat(record.GRANDPREVIOUSYEARS);
            break;
            }
            else {
                pastConferenceGrandTotal = 0; // Set to 0 if no valid data found
            }
        }

     // Process Past District Income Total Data
      let pastDistrictGrandTotal = null;
        for (const record of districtData) {
            if (record.GRANDPREVIOUSYEARS && !isNaN(record.GRANDPREVIOUSYEARS)) {
                pastDistrictGrandTotal = parseFloat(record.GRANDPREVIOUSYEARS);
            break;
            }
            else {
                pastDistrictGrandTotal = 0; // Set to 0 if no valid data found
            }
        }

    // Calculate the outstanding balance from the past years
    const pastTotalExpenditure = (pastExpenditureGrandTotal || 0) + (pastConferenceGrandTotal || 0) + (pastDistrictGrandTotal || 0);
    const outstandingBalance = (pastIncomeGrandTotal || 0) - pastTotalExpenditure;
    const outstandingBalanceElement = document.getElementById('outstandingBalance');
    const outstandingBalanceCardContainer = document.getElementById('outstandingBalanceCard');
    if (outstandingBalanceElement) {
      if (outstandingBalance !== null) {
        outstandingBalanceElement.innerHTML = `GH₵${outstandingBalance.toFixed(2)}`;
        if (outstandingBalance < 0) {
          outstandingBalanceCardContainer.style.backgroundColor = "red";
        } else {
          outstandingBalanceCardContainer.style.backgroundColor = "#5873FE";
        }
      } else {
        outstandingBalanceElement.innerHTML = "Data not available";
      }
    }



    })
    .catch(error => {
      console.error('Error fetching data:', error);
    })
    .finally(() => {
      // Hide both spinners
      if (spinnerTotalIncome) spinnerTotalIncome.style.display = 'none';
      if (spinnerTotalExpenditure) spinnerTotalExpenditure.style.display = 'none';
      if (spinnerLocalIncome) spinnerLocalIncome.style.display = 'none';
      if (spinnerLocalExpenditure) spinnerLocalExpenditure.style.display = 'none';
        // if (spinnerIncomeExpenditure) spinnerIncomeExpenditure.style.display = 'none'; //Check external script for this spinner
      if (spinnerCurrentBalance) spinnerCurrentBalance.style.display = 'none';
      if (spinnerOutstandingBalance) spinnerOutstandingBalance.style.display = 'none';


    });


// Function to toggle the visibility of the submenu for Expenditure Records Tab
  // This is for the Expenditure Records submenu
  const expensesRecords = document.getElementById("expensesRecords");
  const expensesSubmenu = document.getElementById("expensesSubmenu");

  if (expensesRecords && expensesSubmenu) {
    expensesRecords.addEventListener("click", (event) => {
      event.preventDefault(); // Prevent default link behavior
      // Toggle the visibility of the submenu
      expensesSubmenu.style.display =
        expensesSubmenu.style.display === "block" ? "none" : "block";
    });
  }

    // Function to check authentication and redirect if not authenticated, this is for the dashboard page
    // General one exist for the whole app in auth 
    const checkAuth = () => { 
      if (!sessionStorage.getItem("user-creds")) {
        window.location.href = "../../../index.html";
      }
    };
    checkAuth();


});




    //Just for log out button
   const logOutButton = document.getElementById('log-out');
    if (logOutButton) {
        logOutButton.addEventListener('click', () => {
        Swal.fire({
            text: "Are you sure you want to log out?", icon: "warning", showCancelButton: true,
            confirmButtonColor: "#3085d6", cancelButtonColor: "#d33", confirmButtonText: "Yes, Log out"
        }).then((result) => {
            if (result.isConfirmed) {
                sessionStorage.removeItem("user-creds");
                sessionStorage.removeItem("user-info");
                sessionStorage.removeItem("monthlyIncome");
                sessionStorage.removeItem("monthlyExpenditure");
                localStorage.removeItem("fullViewTableData");
                sessionStorage.removeItem("incomeTableData");
                sessionStorage.removeItem("localExpenditureTableData");
                sessionStorage.removeItem("districtExpenditureTableData");
                sessionStorage.removeItem("confExpenditureTableData");
            window.location.href = '../../../index.html';
            }
        });
        });
    }

    
      // Just for the next page button
      const customButton = document.getElementById('customButton');
      if (customButton) {
          customButton.addEventListener('click', () => {
              window.location.href = './chart-chartjs.html'; 
          });
      }
    </script>

    <!-- Required vendors -->
    <script src="./vendor/global/global.min.js"></script>
    <script src="./js/quixnav-init.js"></script>
    <script src="./js/custom.min.js"></script>


    <!-- Vectormap -->
    <script src="./vendor/raphael/raphael.min.js"></script>
    <script src="./vendor/morris/morris.min.js"></script>


    <script src="./vendor/circle-progress/circle-progress.min.js"></script>
    <script src="./vendor/chart.js/Chart.bundle.min.js"></script>

    <script src="./vendor/gaugeJS/dist/gauge.min.js"></script>

    <!--  flot-chart js -->
    <script src="./vendor/flot/jquery.flot.js"></script>
    <script src="./vendor/flot/jquery.flot.resize.js"></script>

    <!-- Owl Carousel -->
    <script src="./vendor/owl-carousel/js/owl.carousel.min.js"></script>

    <!-- Counter Up -->
    <script src="./vendor/jqvmap/js/jquery.vmap.min.js"></script>
    <script src="./vendor/jqvmap/js/jquery.vmap.usa.js"></script>
    <script src="./vendor/jquery.counterup/jquery.counterup.min.js"></script>


    <script src="./js/dashboard/dashboard-1.js"></script>

</body>

</html>